!function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){function m(t,e){var n=w.getElementsByTagName("head")[0],o=w.createElement("script");o.type="text/javascript",o.src=t,o.onload=e,o.onerror=function(){},n.appendChild(o)}var u,e,y,v,w,x,a,i,o,h;e=(u=t).merge,y=u.win,v=y.navigator,w=y.document,x=u.each,a=y.URL||y.webkitURL||y,i=/Edge\/|Trident\/|MSIE /.test(v.userAgent),o=/Edge\/\d+/.test(v.userAgent),h=i?150:0,u.CanVGRenderer={},u.dataURLtoBlob=function(t){if(y.atob&&y.ArrayBuffer&&y.Uint8Array&&y.Blob&&a.createObjectURL){t=t.match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/);for(var e=y.atob(t[3]),n=new y.ArrayBuffer(e.length),o=(n=new y.Uint8Array(n),0);o<n.length;++o)n[o]=e.charCodeAt(o);return t=new y.Blob([n],{type:t[1]}),a.createObjectURL(t)}},u.downloadURL=function(e,t){var n=w.createElement("a");if("string"==typeof e||e instanceof String||!v.msSaveOrOpenBlob){if((o||2e6<e.length)&&!(e=u.dataURLtoBlob(e)))throw"Data URL length limit reached";if(void 0!==n.download)n.href=e,n.download=t,w.body.appendChild(n),n.click(),w.body.removeChild(n);else try{if(null==y.open(e,"chart"))throw"Failed to open window"}catch(t){y.location.href=e}}else v.msSaveOrOpenBlob(e,t)},u.svgToDataUrl=function(t){var e=-1<v.userAgent.indexOf("WebKit")&&v.userAgent.indexOf("Chrome")<0;try{if(!e&&v.userAgent.toLowerCase().indexOf("firefox")<0)return a.createObjectURL(new y.Blob([t],{type:"image/svg+xml;charset-utf-16"}))}catch(t){}return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(t)},u.imageToDataUrl=function(o,a,i,r,l,t,c,e,s){function n(){setTimeout(function(){var t,e=w.createElement("canvas"),n=e.getContext&&e.getContext("2d");try{if(n){e.height=f.height*r,e.width=f.width*r,n.drawImage(f,0,0,e.width,e.height);try{t=e.toDataURL(a),l(t,a,i,r)}catch(t){d(o,a,i,r)}}else c(o,a,i,r)}finally{s&&s(o,a,i,r)}},h)}function g(){e(o,a,i,r),s&&s(o,a,i,r)}var d,f=new y.Image;d=function(){f=new y.Image,d=t,f.crossOrigin="Anonymous",f.onload=n,f.onerror=g,f.src=o},f.onload=n,f.onerror=g,f.src=o},u.downloadSVGLocal=function(i,t,r,l){function e(){d.innerHTML=i;var t,e,n,o=d.getElementsByTagName("text"),a=d.getElementsByTagName("svg")[0].style;x(o,function(e){x(["font-family","font-size"],function(t){!e.style[t]&&a[t]&&(e.style[t]=a[t])}),e.style["font-family"]=e.style["font-family"]&&e.style["font-family"].split(" ").splice(-1),t=e.getElementsByTagName("title"),x(t,function(t){e.removeChild(t)})}),e=d.firstChild,n=0,n=new y.jsPDF("l","pt",[e.width.baseVal.value+2*n,e.height.baseVal.value+2*n]),y.svg2pdf(e,n,{removeInvalid:!0}),o=n.output("datauristring");try{u.downloadURL(o,h),l&&l()}catch(t){r()}}var n,o,c,s=!0,g=t.libURL||u.getOptions().exporting.libURL,d=w.createElement("div"),f=t.type||"image/png",h=(t.filename||"chart")+"."+("image/svg+xml"===f?"svg":f.split("/")[1]),p=t.scale||1;g="/"!==g.slice(-1)?g+"/":g;if("image/svg+xml"===f)try{n=v.msSaveOrOpenBlob?((o=new MSBlobBuilder).append(i),o.getBlob("image/svg+xml")):u.svgToDataUrl(i),u.downloadURL(n,h),l&&l()}catch(t){r()}else"application/pdf"===f?y.jsPDF&&y.svg2pdf?e():(s=!0,m(g+"jspdf.js",function(){m(g+"svg2pdf.js",function(){e()})})):(n=u.svgToDataUrl(i),c=function(){try{a.revokeObjectURL(n)}catch(t){}},u.imageToDataUrl(n,f,{},p,function(t){try{u.downloadURL(t,h),l&&l()}catch(t){r()}},function(){function t(){n.drawSvg(i,0,0,o,a);try{u.downloadURL(v.msSaveOrOpenBlob?e.msToBlob():e.toDataURL(f),h),l&&l()}catch(t){r()}finally{c()}}var e=w.createElement("canvas"),n=e.getContext("2d"),o=i.match(/^<svg[^>]*width\s*=\s*\"?(\d+)\"?[^>]*>/)[1]*p,a=i.match(/^<svg[^>]*height\s*=\s*\"?(\d+)\"?[^>]*>/)[1]*p;e.width=o,e.height=a,y.canvg?t():(s=!0,m(g+"rgbcolor.js",function(){m(g+"canvg.js",function(){t()})}))},r,r,function(){s&&c()}))},u.Chart.prototype.getSVGForLocalExport=function(t,e,n,o){function a(t,e,n){++f,n.imageElement.setAttributeNS("http://www.w3.org/1999/xlink","href",t),f===i.length&&o(d.sanitizeSVG(r.innerHTML,l))}var i,r,l,c,s,g,d=this,f=0;u.wrap(u.Chart.prototype,"getChartHTML",function(t){var e=t.apply(this,Array.prototype.slice.call(arguments,1));return l=this.options,r=this.container.cloneNode(!0),e}),d.getSVGForExport(t,e),i=r.getElementsByTagName("image");try{if(i.length)for(s=0,g=i.length;s<g;++s)c=i[s],u.imageToDataUrl(c.getAttributeNS("http://www.w3.org/1999/xlink","href"),"image/png",{imageElement:c},t.scale,a,n,n,n);else o(d.sanitizeSVG(r.innerHTML,l))}catch(t){n()}},u.Chart.prototype.exportChartLocal=function(t,e){function n(){if(!1===a.fallbackToExportServer){if(!a.error)throw"Fallback to export server disabled";a.error(a)}else o.exportChart(a)}var o=this,a=u.merge(o.options.exporting,t);i&&("application/pdf"===a.type||o.container.getElementsByTagName("image").length&&"image/svg+xml"!==a.type)||"application/pdf"===a.type&&o.container.getElementsByTagName("image").length?n():o.getSVGForLocalExport(a,e,n,function(t){-1<t.indexOf("<foreignObject")&&"image/svg+xml"!==a.type?n():u.downloadSVGLocal(t,a,n)})},e(!0,u.getOptions().exporting,{libURL:"https://code.highcharts.com/5.0.14/lib/",menuItemDefinitions:{downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChartLocal()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChartLocal({type:"image/jpeg"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChartLocal({type:"image/svg+xml"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChartLocal({type:"application/pdf"})}}}})});