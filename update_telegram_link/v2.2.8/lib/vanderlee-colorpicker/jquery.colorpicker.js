!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(y){"use strict";function s(e){var o=Math.round(e).toString(16);return 1===o.length&&(o="0"+o),o.toLowerCase()}var t=0,n=function(e){return 32==e||48<=e&&e<=57||65<=e&&e<=90||96<=e&&e<=111||186<=e&&e<192||219<=e&&e<222},a=function(e){return 48<=e&&e<=57||96<=e&&e<=105||65<=e&&e<=70};return y.colorpicker=new function(){this.regional={"":{ok:"OK",cancel:"Cancel",none:"None",button:"Color",title:"Pick a color",transparent:"Transparent",hsvH:"H",hsvS:"S",hsvV:"V",rgbR:"R",rgbG:"G",rgbB:"B",labL:"L",labA:"a",labB:"b",hslH:"H",hslS:"S",hslL:"L",cmykC:"C",cmykM:"M",cmykY:"Y",cmykK:"K",alphaA:"A"}},this.swatchesNames={html:"HTML"},this.swatches={html:[{name:"black",r:0,g:0,b:0},{name:"dimgray",r:.4117647058823529,g:.4117647058823529,b:.4117647058823529},{name:"gray",r:.5019607843137255,g:.5019607843137255,b:.5019607843137255},{name:"darkgray",r:.6627450980392157,g:.6627450980392157,b:.6627450980392157},{name:"silver",r:.7529411764705882,g:.7529411764705882,b:.7529411764705882},{name:"lightgrey",r:.8274509803921568,g:.8274509803921568,b:.8274509803921568},{name:"gainsboro",r:.8627450980392157,g:.8627450980392157,b:.8627450980392157},{name:"whitesmoke",r:.9607843137254902,g:.9607843137254902,b:.9607843137254902},{name:"white",r:1,g:1,b:1},{name:"rosybrown",r:.7372549019607844,g:.5607843137254902,b:.5607843137254902},{name:"indianred",r:.803921568627451,g:.3607843137254902,b:.3607843137254902},{name:"brown",r:.6470588235294118,g:.16470588235294117,b:.16470588235294117},{name:"firebrick",r:.6980392156862745,g:.13333333333333333,b:.13333333333333333},{name:"lightcoral",r:.9411764705882353,g:.5019607843137255,b:.5019607843137255},{name:"maroon",r:.5019607843137255,g:0,b:0},{name:"darkred",r:.5450980392156862,g:0,b:0},{name:"red",r:1,g:0,b:0},{name:"snow",r:1,g:.9803921568627451,b:.9803921568627451},{name:"salmon",r:.9803921568627451,g:.5019607843137255,b:.4470588235294118},{name:"mistyrose",r:1,g:.8941176470588236,b:.8823529411764706},{name:"tomato",r:1,g:.38823529411764707,b:.2784313725490196},{name:"darksalmon",r:.9137254901960784,g:.5882352941176471,b:.47843137254901963},{name:"orangered",r:1,g:.27058823529411763,b:0},{name:"coral",r:1,g:.4980392156862745,b:.3137254901960784},{name:"lightsalmon",r:1,g:.6274509803921569,b:.47843137254901963},{name:"sienna",r:.6274509803921569,g:.3215686274509804,b:.17647058823529413},{name:"seashell",r:1,g:.9607843137254902,b:.9333333333333333},{name:"chocolate",r:.8235294117647058,g:.4117647058823529,b:.11764705882352941},{name:"saddlebrown",r:.5450980392156862,g:.27058823529411763,b:.07450980392156863},{name:"sandybrown",r:.9568627450980393,g:.6431372549019608,b:.3764705882352941},{name:"peachpuff",r:1,g:.8549019607843137,b:.7254901960784313},{name:"peru",r:.803921568627451,g:.5215686274509804,b:.24705882352941178},{name:"linen",r:.9803921568627451,g:.9411764705882353,b:.9019607843137255},{name:"darkorange",r:1,g:.5490196078431373,b:0},{name:"bisque",r:1,g:.8941176470588236,b:.7686274509803922},{name:"burlywood",r:.8705882352941177,g:.7215686274509804,b:.5294117647058824},{name:"tan",r:.8235294117647058,g:.7058823529411765,b:.5490196078431373},{name:"antiquewhite",r:.9803921568627451,g:.9215686274509803,b:.8431372549019608},{name:"navajowhite",r:1,g:.8705882352941177,b:.6784313725490196},{name:"blanchedalmond",r:1,g:.9215686274509803,b:.803921568627451},{name:"papayawhip",r:1,g:.9372549019607843,b:.8352941176470589},{name:"orange",r:1,g:.6470588235294118,b:0},{name:"moccasin",r:1,g:.8941176470588236,b:.7098039215686275},{name:"wheat",r:.9607843137254902,g:.8705882352941177,b:.7019607843137254},{name:"oldlace",r:.9921568627450981,g:.9607843137254902,b:.9019607843137255},{name:"floralwhite",r:1,g:.9803921568627451,b:.9411764705882353},{name:"goldenrod",r:.8549019607843137,g:.6470588235294118,b:.12549019607843137},{name:"darkgoldenrod",r:.7215686274509804,g:.5254901960784314,b:.043137254901960784},{name:"cornsilk",r:1,g:.9725490196078431,b:.8627450980392157},{name:"gold",r:1,g:.8431372549019608,b:0},{name:"palegoldenrod",r:.9333333333333333,g:.9098039215686274,b:.6666666666666666},{name:"khaki",r:.9411764705882353,g:.9019607843137255,b:.5490196078431373},{name:"lemonchiffon",r:1,g:.9803921568627451,b:.803921568627451},{name:"darkkhaki",r:.7411764705882353,g:.7176470588235294,b:.4196078431372549},{name:"beige",r:.9607843137254902,g:.9607843137254902,b:.8627450980392157},{name:"lightgoldenrodyellow",r:.9803921568627451,g:.9803921568627451,b:.8235294117647058},{name:"olive",r:.5019607843137255,g:.5019607843137255,b:0},{name:"yellow",r:1,g:1,b:0},{name:"lightyellow",r:1,g:1,b:.8784313725490196},{name:"ivory",r:1,g:1,b:.9411764705882353},{name:"olivedrab",r:.4196078431372549,g:.5568627450980392,b:.13725490196078433},{name:"yellowgreen",r:.6039215686274509,g:.803921568627451,b:.19607843137254902},{name:"darkolivegreen",r:.3333333333333333,g:.4196078431372549,b:.1843137254901961},{name:"greenyellow",r:.6784313725490196,g:1,b:.1843137254901961},{name:"lawngreen",r:.48627450980392156,g:.9882352941176471,b:0},{name:"chartreuse",r:.4980392156862745,g:1,b:0},{name:"darkseagreen",r:.5607843137254902,g:.7372549019607844,b:.5607843137254902},{name:"forestgreen",r:.13333333333333333,g:.5450980392156862,b:.13333333333333333},{name:"limegreen",r:.19607843137254902,g:.803921568627451,b:.19607843137254902},{name:"lightgreen",r:.5647058823529412,g:.9333333333333333,b:.5647058823529412},{name:"palegreen",r:.596078431372549,g:.984313725490196,b:.596078431372549},{name:"darkgreen",r:0,g:.39215686274509803,b:0},{name:"green",r:0,g:.5019607843137255,b:0},{name:"lime",r:0,g:1,b:0},{name:"honeydew",r:.9411764705882353,g:1,b:.9411764705882353},{name:"mediumseagreen",r:.23529411764705882,g:.7019607843137254,b:.44313725490196076},{name:"seagreen",r:.1803921568627451,g:.5450980392156862,b:.3411764705882353},{name:"springgreen",r:0,g:1,b:.4980392156862745},{name:"mintcream",r:.9607843137254902,g:1,b:.9803921568627451},{name:"mediumspringgreen",r:0,g:.9803921568627451,b:.6039215686274509},{name:"mediumaquamarine",r:.4,g:.803921568627451,b:.6666666666666666},{name:"aquamarine",r:.4980392156862745,g:1,b:.8313725490196079},{name:"turquoise",r:.25098039215686274,g:.8784313725490196,b:.8156862745098039},{name:"lightseagreen",r:.12549019607843137,g:.6980392156862745,b:.6666666666666666},{name:"mediumturquoise",r:.2823529411764706,g:.8196078431372549,b:.8},{name:"darkslategray",r:.1843137254901961,g:.30980392156862746,b:.30980392156862746},{name:"paleturquoise",r:.6862745098039216,g:.9333333333333333,b:.9333333333333333},{name:"teal",r:0,g:.5019607843137255,b:.5019607843137255},{name:"darkcyan",r:0,g:.5450980392156862,b:.5450980392156862},{name:"darkturquoise",r:0,g:.807843137254902,b:.8196078431372549},{name:"aqua",r:0,g:1,b:1},{name:"cyan",r:0,g:1,b:1},{name:"lightcyan",r:.8784313725490196,g:1,b:1},{name:"azure",r:.9411764705882353,g:1,b:1},{name:"cadetblue",r:.37254901960784315,g:.6196078431372549,b:.6274509803921569},{name:"powderblue",r:.6901960784313725,g:.8784313725490196,b:.9019607843137255},{name:"lightblue",r:.6784313725490196,g:.8470588235294118,b:.9019607843137255},{name:"deepskyblue",r:0,g:.7490196078431373,b:1},{name:"skyblue",r:.5294117647058824,g:.807843137254902,b:.9215686274509803},{name:"lightskyblue",r:.5294117647058824,g:.807843137254902,b:.9803921568627451},{name:"steelblue",r:.27450980392156865,g:.5098039215686274,b:.7058823529411765},{name:"aliceblue",r:.9411764705882353,g:.9725490196078431,b:1},{name:"dodgerblue",r:.11764705882352941,g:.5647058823529412,b:1},{name:"slategray",r:.4392156862745098,g:.5019607843137255,b:.5647058823529412},{name:"lightslategray",r:.4666666666666667,g:.5333333333333333,b:.6},{name:"lightsteelblue",r:.6901960784313725,g:.7686274509803922,b:.8705882352941177},{name:"cornflowerblue",r:.39215686274509803,g:.5843137254901961,b:.9294117647058824},{name:"royalblue",r:.2549019607843137,g:.4117647058823529,b:.8823529411764706},{name:"midnightblue",r:.09803921568627451,g:.09803921568627451,b:.4392156862745098},{name:"lavender",r:.9019607843137255,g:.9019607843137255,b:.9803921568627451},{name:"navy",r:0,g:0,b:.5019607843137255},{name:"darkblue",r:0,g:0,b:.5450980392156862},{name:"mediumblue",r:0,g:0,b:.803921568627451},{name:"blue",r:0,g:0,b:1},{name:"ghostwhite",r:.9725490196078431,g:.9725490196078431,b:1},{name:"darkslateblue",r:.2823529411764706,g:.23921568627450981,b:.5450980392156862},{name:"slateblue",r:.41568627450980394,g:.35294117647058826,b:.803921568627451},{name:"mediumslateblue",r:.4823529411764706,g:.40784313725490196,b:.9333333333333333},{name:"mediumpurple",r:.5764705882352941,g:.4392156862745098,b:.8588235294117647},{name:"blueviolet",r:.5411764705882353,g:.16862745098039217,b:.8862745098039215},{name:"indigo",r:.29411764705882354,g:0,b:.5098039215686274},{name:"darkorchid",r:.6,g:.19607843137254902,b:.8},{name:"darkviolet",r:.5803921568627451,g:0,b:.8274509803921568},{name:"mediumorchid",r:.7294117647058823,g:.3333333333333333,b:.8274509803921568},{name:"thistle",r:.8470588235294118,g:.7490196078431373,b:.8470588235294118},{name:"plum",r:.8666666666666667,g:.6274509803921569,b:.8666666666666667},{name:"violet",r:.9333333333333333,g:.5098039215686274,b:.9333333333333333},{name:"purple",r:.5019607843137255,g:0,b:.5019607843137255},{name:"darkmagenta",r:.5450980392156862,g:0,b:.5450980392156862},{name:"magenta",r:1,g:0,b:1},{name:"fuchsia",r:1,g:0,b:1},{name:"orchid",r:.8549019607843137,g:.4392156862745098,b:.8392156862745098},{name:"mediumvioletred",r:.7803921568627451,g:.08235294117647059,b:.5215686274509804},{name:"deeppink",r:1,g:.0784313725490196,b:.5764705882352941},{name:"hotpink",r:1,g:.4117647058823529,b:.7058823529411765},{name:"palevioletred",r:.8588235294117647,g:.4392156862745098,b:.5764705882352941},{name:"lavenderblush",r:1,g:.9411764705882353,b:.9607843137254902},{name:"crimson",r:.8627450980392157,g:.0784313725490196,b:.23529411764705882},{name:"pink",r:1,g:.7529411764705882,b:.796078431372549},{name:"lightpink",r:1,g:.7137254901960784,b:.7568627450980392}]},this.writers={"#HEX":function(e,o){return o._formatColor("#rxgxbx",e)},"#HEX3":function(e,o){var t=y.colorpicker.writers.HEX3(e);return!1!==t&&"#"+t},HEX:function(e,o){return o._formatColor("rxgxbx",e)},HEX3:function(e,o){var t=e.getRGB(),r=Math.round(255*t.r),i=Math.round(255*t.g),n=Math.round(255*t.b);return r>>>4==(r&=15)&&i>>>4==(i&=15)&&n>>>4==(n&=15)&&r.toString(16)+i.toString(16)+n.toString(16)},"#HEXA":function(e,o){return o._formatColor("#rxgxbxax",e)},"#HEXA4":function(e,o){var t=y.colorpicker.writers.HEXA4(e,o);return!1!==t&&"#"+t},HEXA:function(e,o){return o._formatColor("rxgxbxax",e)},HEXA4:function(e,o){var t=Math.round(255*e.getAlpha());return t>>>4==(t&=15)&&y.colorpicker.writers.HEX3(e,o)+t.toString(16)},RGB:function(e,o){return 1<=e.getAlpha()&&o._formatColor("rgb(rd,gd,bd)",e)},RGBA:function(e,o){return o._formatColor("rgba(rd,gd,bd,af)",e)},"RGB%":function(e,o){return 1<=e.getAlpha()&&o._formatColor("rgb(rp%,gp%,bp%)",e)},"RGBA%":function(e,o){return o._formatColor("rgba(rp%,gp%,bp%,af)",e)},HSL:function(e,o){return 1<=e.getAlpha()&&o._formatColor("hsl(hd,sd,vd)",e)},HSLA:function(e,o){return o._formatColor("hsla(hd,sd,vd,af)",e)},"HSL%":function(e,o){return 1<=e.getAlpha()&&o._formatColor("hsl(hp%,sp%,vp%)",e)},"HSLA%":function(e,o){return o._formatColor("hsla(hp%,sp%,vp%,af)",e)},NAME:function(e,o){return o._closestName(e)},EXACT:function(e,o){return o._exactName(e)}},this.parsers={"":function(e){if(""===e)return new y.colorpicker.Color},NAME:function(e,o){var t=o._getSwatch(y.trim(e));if(t)return new y.colorpicker.Color(t.r,t.g,t.b)},RGBA:function(e){var o=/^rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)$/.exec(e);if(o)return new y.colorpicker.Color(o[1]/255,o[2]/255,o[3]/255,parseFloat(o[4]))},"RGBA%":function(e){var o=/^rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)$/.exec(e);if(o)return new y.colorpicker.Color(o[1]/100,o[2]/100,o[3]/100,o[4]/100)},HSLA:function(e){var o=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)$/.exec(e);if(o)return(new y.colorpicker.Color).setHSL(o[1]/255,o[2]/255,o[3]/255).setAlpha(parseFloat(o[4]))},"HSLA%":function(e){var o=/^hsla?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)$/.exec(e);if(o)return(new y.colorpicker.Color).setHSL(o[1]/100,o[2]/100,o[3]/100).setAlpha(o[4]/100)},"#HEX":function(e){var o=/^#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/.exec(e);if(o)return new y.colorpicker.Color(parseInt(o[1],16)/255,parseInt(o[2],16)/255,parseInt(o[3],16)/255)},"#HEX3":function(e){var o=/^#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/.exec(e);if(o)return new y.colorpicker.Color(parseInt(String(o[1])+o[1],16)/255,parseInt(String(o[2])+o[2],16)/255,parseInt(String(o[3])+o[3],16)/255)},HEX:function(e){var o=/^([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/.exec(e);if(o)return new y.colorpicker.Color(parseInt(o[1],16)/255,parseInt(o[2],16)/255,parseInt(o[3],16)/255)},HEX3:function(e){var o=/^([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/.exec(e);if(o)return new y.colorpicker.Color(parseInt(String(o[1])+o[1],16)/255,parseInt(String(o[2])+o[2],16)/255,parseInt(String(o[3])+o[3],16)/255)},"#HEXA":function(e){var o=/^#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/.exec(e);if(o)return new y.colorpicker.Color(parseInt(o[1],16)/255,parseInt(o[2],16)/255,parseInt(o[3],16)/255,parseInt(o[4],16)/255)},"#HEXA4":function(e){var o=/^#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/.exec(e);if(o)return new y.colorpicker.Color(parseInt(String(o[1])+o[1],16)/255,parseInt(String(o[2])+o[2],16)/255,parseInt(String(o[3])+o[3],16)/255,parseInt(String(o[4])+o[4],16)/255)},HEXA:function(e){var o=/^([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/.exec(e);if(o)return new y.colorpicker.Color(parseInt(o[1],16)/255,parseInt(o[2],16)/255,parseInt(o[3],16)/255,parseInt(o[4],16)/255)},HEXA4:function(e){var o=/^([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/.exec(e);if(o)return new y.colorpicker.Color(parseInt(String(o[1])+o[1],16)/255,parseInt(String(o[2])+o[2],16)/255,parseInt(String(o[3])+o[3],16)/255,parseInt(String(o[4])+o[4],16)/255)}},this.partslists={full:["header","map","bar","hex","hsv","rgb","alpha","lab","cmyk","preview","swatches","footer"],popup:["map","bar","hex","hsv","rgb","alpha","preview","footer"],draggable:["header","map","bar","hex","hsv","rgb","alpha","preview","footer"],inline:["map","bar","hex","hsv","rgb","alpha","preview"]},this.limits={websafe:function(e){e.limit(6)},nibble:function(e){e.limit(16)},binary:function(e){e.limit(2)},name:function(e,o){var t=o._getSwatch(o._closestName(e));e.setRGB(t.r,t.g,t.b)}},this.parts={header:function(r){function i(e){e.preventDefault(),r.close(r.options.revert)}var n=null;this.init=function(){var e;n=y((e='<span class="ui-dialog-title">'+(r.options.title||r._getRegional("title"))+"</span>",!r.inline&&r.options.showCloseButton&&(e+='<a href="#" class="ui-dialog-titlebar-close ui-corner-all" role="button"><span class="ui-icon ui-icon-closethick">close</span></a>'),'<div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix">'+e+"</div>")).prependTo(r.dialog);var o=y(".ui-dialog-titlebar-close",n);if(r._hoverable(o),r._focusable(o),o.on("click",i),!r.inline&&r.options.draggable){var t={handle:n};r.options.containment&&(t.containment=r.options.containment),r.dialog.draggable(t)}},this.disable=function(e){y(".ui-dialog-titlebar-close",n)[e?"off":"on"]("click",i)}},map:function(c){var i,l,p,n,a,s,o,e,u=this,h=null,b={};n=function(e){if(c.opened){var o=b.p.offset(),t=e.pageX-o.left,r=e.pageY-o.top;0<=t&&t<l&&0<=r&&r<p&&(e.stopImmediatePropagation(),e.preventDefault(),h.off("mousedown",n).focus(),y(document).on("mouseup",a),y(document).on("mousemove",s),s(e))}},a=function(e){e.stopImmediatePropagation(),e.preventDefault(),y(document).off("mouseup",a),y(document).off("mousemove",s),h.on("mousedown",n),c._callback("stop")},s=function(e){if(e.stopImmediatePropagation(),e.preventDefault(),e.pageX!==u.x||e.pageY!==u.y){u.x=e.pageX,u.y=e.pageY;var o=b.p.offset(),t=e.pageX-o.left,r=e.pageY-o.top;switch(t=Math.max(0,Math.min(t/l,1)),r=Math.max(0,Math.min(r/p,1)),c.mode){case"h":c.color.setHSV(null,t,1-r);break;case"s":case"a":c.color.setHSV(t,null,1-r);break;case"v":c.color.setHSV(t,1-r,null);break;case"r":c.color.setRGB(null,1-r,t);break;case"g":c.color.setRGB(1-r,null,t);break;case"b":c.color.setRGB(t,1-r,null)}c._change(!1)}},o=function(e){var o,t,r={h:"s",s:"h",v:"h",r:"b",g:"b",b:"r",a:"h"},i={37:-1,39:1},n={h:"v",s:"v",v:"s",r:"g",g:"r",b:"g",a:"v"},a={38:1,40:-1},s={35:0,36:1};void 0!==i[e.which]?(t=c.color.getChannel(r[c.mode])*l,o=i[e.which],e.shiftKey?o*=10:(e.ctrlKey||e.metaKey)&&(o*=l),c.color.setChannel(r[c.mode],(t+o)/l),c._change(!1)):void 0!==a[e.which]?(t=c.color.getChannel(n[c.mode])*p,o=a[e.which],e.shiftKey?o*=10:(e.ctrlKey||e.metaKey)&&(o*=p),c.color.setChannel(n[c.mode],(t+o)/p),c._change(!1)):void 0!==s[e.which]&&(c.color.setChannel(r[c.mode],1-s[e.which]),c.color.setChannel(n[c.mode],s[e.which]),c._change(!1))},e=function(){return'<div class="ui-colorpicker-map ui-colorpicker-map-'+(c.options.part.map.size||256)+' ui-colorpicker-border" taonex="0"><span class="ui-colorpicker-map-layer-1">&nbsp;</span><span class="ui-colorpicker-map-layer-2">&nbsp;</span>'+(c.options.alpha?'<span class="ui-colorpicker-map-layer-alpha">&nbsp;</span>':"")+'<span class="ui-colorpicker-map-layer-pointer"><span class="ui-colorpicker-map-pointer"></span></span></div>'},this.init=function(){(h=y(e()).appendTo(y(".ui-colorpicker-map-container",c.dialog))).on("mousedown",n),h.on("keydown",o),b[1]=y(".ui-colorpicker-map-layer-1",h),b[2]=y(".ui-colorpicker-map-layer-2",h),b.a=y(".ui-colorpicker-map-layer-alpha",h),b.p=y(".ui-colorpicker-map-layer-pointer",h),l=b.p.width(),p=b.p.height(),i=y(".ui-colorpicker-map-pointer",h)},this.update=function(){var e=65*(c.options.part.map.size||256)/64;switch(c.mode){case"h":b[1].css({"background-position":"0 0",opacity:""}).show(),b[2].hide();break;case"s":case"a":b[1].css({"background-position":"0 "+-e+"px",opacity:""}).show(),b[2].css({"background-position":"0 "+2*-e+"px",opacity:""}).show();break;case"v":h.css("background-color","black"),b[1].css({"background-position":"0 "+3*-e+"px",opacity:""}).show(),b[2].hide();break;case"r":b[1].css({"background-position":"0 "+4*-e+"px",opacity:""}).show(),b[2].css({"background-position":"0 "+5*-e+"px",opacity:""}).show();break;case"g":b[1].css({"background-position":"0 "+6*-e+"px",opacity:""}).show(),b[2].css({"background-position":"0 "+7*-e+"px",opacity:""}).show();break;case"b":b[1].css({"background-position":"0 "+8*-e+"px",opacity:""}).show(),b[2].css({"background-position":"0 "+9*-e+"px",opacity:""}).show()}u.repaint()},this.repaint=function(){var e=0,o=0;switch(c.mode){case"h":e=(t=c.color.getHSV()).s*l,o=(1-t.v)*l,h.css("background-color",c.color.copy().setHSV(null,1,1).toCSS());break;case"s":case"a":e=(t=c.color.getHSV()).h*l,o=(1-t.v)*l,b[2].css("opacity",1-t.s);break;case"v":var t;e=(t=c.color.getHSV()).h*l,o=(1-t.s)*l,b[1].css("opacity",t.v);break;case"r":e=(r=c.color.getRGB()).b*l,o=(1-r.g)*l,b[2].css("opacity",r.r);break;case"g":e=(r=c.color.getRGB()).b*l,o=(1-r.r)*l,b[2].css("opacity",r.g);break;case"b":var r;e=(r=c.color.getRGB()).r*l,o=(1-r.g)*l,b[2].css("opacity",r.b)}c.options.alpha&&b.a.css("opacity",1-c.color.getAlpha()),i.css({left:e-7,top:o-7})},this.disable=function(e){h[e?"off":"on"]("mousedown",n),h[e?"off":"on"]("keydown",o)}},bar:function(i){var r,n,a,s,c,l,o,e,p=this,u=null,h={};s=function(e){if(i.opened){var o=h.p.offset(),t=e.pageX-o.left,r=e.pageY-o.top;0<=t&&t<n&&0<=r&&r<a&&(e.stopImmediatePropagation(),e.preventDefault(),u.off("mousedown",s).focus(),y(document).on("mouseup",c),y(document).on("mousemove",l),l(e))}},c=function(e){e.stopImmediatePropagation(),e.preventDefault(),y(document).off("mouseup",c),y(document).off("mousemove",l),u.on("mousedown",s),i._callback("stop")},l=function(e){if(e.stopImmediatePropagation(),e.preventDefault(),e.pageY!==p.y){p.y=e.pageY;var o=h.p.offset(),t=e.pageY-o.top;switch(t=Math.max(0,Math.min(t/a,1)),i.mode){case"h":i.color.setHSV(1-t,null,null);break;case"s":i.color.setHSV(null,1-t,null);break;case"v":i.color.setHSV(null,null,1-t);break;case"r":i.color.setRGB(1-t,null,null);break;case"g":i.color.setRGB(null,1-t,null);break;case"b":i.color.setRGB(null,null,1-t);break;case"a":i.color.setAlpha(1-t)}i._change(!1)}},o=function(e){var o,t,r={35:0,36:1};void 0!==(o={38:1,40:-1,33:10,34:-10})[e.which]?(t=i.color.getChannel(i.mode)*a,o=o[e.which],e.shiftKey?o*=10:(e.ctrlKey||e.metaKey)&&(o*=a),i.color.setChannel(i.mode,(t+o)/a),i._change(!1)):void 0!==r[e.which]&&(i.color.setChannel(i.mode,r[e.which]),i._change(!1))},e=function(){var e='<div class="ui-colorpicker-bar ui-colorpicker-bar-'+(i.options.part.bar.size||256)+'  ui-colorpicker-border" taonex="0"><span class="ui-colorpicker-bar-layer-1">&nbsp;</span><span class="ui-colorpicker-bar-layer-2">&nbsp;</span><span class="ui-colorpicker-bar-layer-3">&nbsp;</span><span class="ui-colorpicker-bar-layer-4">&nbsp;</span>';return i.options.alpha&&(e+='<span class="ui-colorpicker-bar-layer-alpha">&nbsp;</span><span class="ui-colorpicker-bar-layer-alphabar">&nbsp;</span>'),e+='<span class="ui-colorpicker-bar-layer-pointer"><span class="ui-colorpicker-bar-pointer"></span></span></div>'},this.init=function(){(u=y(e()).appendTo(y(".ui-colorpicker-bar-container",i.dialog))).on("mousedown",s),u.on("keydown",o),h[1]=y(".ui-colorpicker-bar-layer-1",u),h[2]=y(".ui-colorpicker-bar-layer-2",u),h[3]=y(".ui-colorpicker-bar-layer-3",u),h[4]=y(".ui-colorpicker-bar-layer-4",u),h.a=y(".ui-colorpicker-bar-layer-alpha",u),h.ab=y(".ui-colorpicker-bar-layer-alphabar",u),h.p=y(".ui-colorpicker-bar-layer-pointer",u),n=h.p.width(),a=h.p.height(),r=y(".ui-colorpicker-bar-pointer",u)},this.update=function(){var e=65*(i.options.part.bar.size||256)/64;switch(i.mode){case"h":case"s":case"v":case"r":case"g":case"b":h.a.show(),h.ab.hide();break;case"a":h.a.hide(),h.ab.show()}switch(i.mode){case"h":h[1].css({"background-position":"0 0",opacity:""}).show(),h[2].hide(),h[3].hide(),h[4].hide();break;case"s":h[1].css({"background-position":"0 "+-e+"px",opacity:""}).show(),h[2].css({"background-position":"0 "+2*-e+"px",opacity:""}).show(),h[3].hide(),h[4].hide();break;case"v":h[1].css({"background-position":"0 "+2*-e+"px",opacity:""}).show(),h[2].hide(),h[3].hide(),h[4].hide();break;case"r":h[1].css({"background-position":"0 "+6*-e+"px",opacity:""}).show(),h[2].css({"background-position":"0 "+5*-e+"px",opacity:""}).show(),h[3].css({"background-position":"0 "+3*-e+"px",opacity:""}).show(),h[4].css({"background-position":"0 "+4*-e+"px",opacity:""}).show();break;case"g":h[1].css({"background-position":"0 "+10*-e+"px",opacity:""}).show(),h[2].css({"background-position":"0 "+9*-e+"px",opacity:""}).show(),h[3].css({"background-position":"0 "+7*-e+"px",opacity:""}).show(),h[4].css({"background-position":"0 "+8*-e+"px",opacity:""}).show();break;case"b":h[1].css({"background-position":"0 "+14*-e+"px",opacity:""}).show(),h[2].css({"background-position":"0 "+13*-e+"px",opacity:""}).show(),h[3].css({"background-position":"0 "+11*-e+"px",opacity:""}).show(),h[4].css({"background-position":"0 "+12*-e+"px",opacity:""}).show();break;case"a":h[1].hide(),h[2].hide(),h[3].hide(),h[4].hide()}p.repaint()},this.repaint=function(){var e=0;switch(i.mode){case"h":e=(1-i.color.getHSV().h)*a;break;case"s":var o=i.color.getHSV();e=(1-o.s)*a,h[2].css("opacity",1-o.v),u.css("background-color",i.color.copy().setHSV(null,1,null).toCSS());break;case"v":e=(1-i.color.getHSV().v)*a,u.css("background-color",i.color.copy().setHSV(null,null,1).toCSS());break;case"r":e=(1-(t=i.color.getRGB()).r)*a,h[2].css("opacity",Math.max(0,t.b-t.g)),h[3].css("opacity",Math.max(0,t.g-t.b)),h[4].css("opacity",Math.min(t.b,t.g));break;case"g":e=(1-(t=i.color.getRGB()).g)*a,h[2].css("opacity",Math.max(0,t.b-t.r)),h[3].css("opacity",Math.max(0,t.r-t.b)),h[4].css("opacity",Math.min(t.r,t.b));break;case"b":var t;e=(1-(t=i.color.getRGB()).b)*a,h[2].css("opacity",Math.max(0,t.r-t.g)),h[3].css("opacity",Math.max(0,t.g-t.r)),h[4].css("opacity",Math.min(t.r,t.g));break;case"a":e=(1-i.color.getAlpha())*a,u.css("background-color",i.color.copy().toCSS())}"a"!==i.mode&&h.a.css("opacity",1-i.color.getAlpha()),r.css("top",e-3)},this.disable=function(e){u[e?"off":"on"]("mousedown",s),u[e?"off":"on"]("keydown",o)}},preview:function(e){function o(){e.color=e.currentColor.copy(),e._change()}var t,r,i,n,a,s,c=null;s=function(){return'<div class="ui-colorpicker-preview ui-colorpicker-border"><div class="ui-colorpicker-preview-initial"><div class="ui-colorpicker-preview-initial-alpha"></div></div><div class="ui-colorpicker-preview-current"><div class="ui-colorpicker-preview-current-alpha"></div></div></div>'},this.init=function(){c=y(s()).appendTo(y(".ui-colorpicker-preview-container",e.dialog)),y(".ui-colorpicker-preview-initial",c).on("click",o),r=y(".ui-colorpicker-preview-initial",c),i=y(".ui-colorpicker-preview-initial-alpha",c),n=y(".ui-colorpicker-preview-current",c),a=y(".ui-colorpicker-preview-current-alpha",c),t=y(".ui-colorpicker-preview-initial-alpha, .ui-colorpicker-preview-current-alpha",c)},this.update=function(){t[e.options.alpha?"show":"hide"](),this.repaint()},this.repaint=function(){r.css("background-color",e.currentColor.set?e.currentColor.toCSS():"").attr("title",e.currentColor.set?e.currentColor.toCSS():""),i.css("opacity",1-e.currentColor.getAlpha()),n.css("background-color",e.color.set?e.color.toCSS():"").attr("title",e.color.set?e.color.toCSS():""),a.css("opacity",1-e.color.getAlpha())},this.disable=function(e){y(".ui-colorpicker-preview-initial",c)[e?"off":"on"]("click",o)}},hsv:function(o){var e,t=null,r={};e=function(){var e="";return o.options.hsv&&(e+='<div class="ui-colorpicker-hsv-h"><input class="ui-colorpicker-mode" type="radio" value="h"/><label>'+o._getRegional("hsvH")+'</label><input class="ui-colorpicker-number" type="number" min="0" max="360" size="10"/><span class="ui-colorpicker-unit">&deg;</span></div><div class="ui-colorpicker-hsv-s"><input class="ui-colorpicker-mode" type="radio" value="s"/><label>'+o._getRegional("hsvS")+'</label><input class="ui-colorpicker-number" type="number" min="0" max="100" size="10"/><span class="ui-colorpicker-unit">%</span></div><div class="ui-colorpicker-hsv-v"><input class="ui-colorpicker-mode" type="radio" value="v"/><label>'+o._getRegional("hsvV")+'</label><input class="ui-colorpicker-number" type="number" min="0" max="100" size="10"/><span class="ui-colorpicker-unit">%</span></div>'),'<div class="ui-colorpicker-hsv">'+e+"</div>"},this.init=function(){t=y(e()).appendTo(y(".ui-colorpicker-hsv-container",o.dialog)),y(".ui-colorpicker-mode",t).click(function(){o.mode=y(this).val(),o._updateAllParts()}),r.h=y(".ui-colorpicker-hsv-h .ui-colorpicker-number",t),r.s=y(".ui-colorpicker-hsv-s .ui-colorpicker-number",t),r.v=y(".ui-colorpicker-hsv-v .ui-colorpicker-number",t),y(".ui-colorpicker-number",t).on("change keyup",function(){o.color.setHSV(r.h.val()/360,r.s.val()/100,r.v.val()/100),o._change()})},this.repaint=function(){var e=o.color.getHSV();r.h.val(Math.round(360*e.h)),r.s.val(Math.round(100*e.s)),r.v.val(Math.round(100*e.v))},this.update=function(){y(".ui-colorpicker-mode",t).each(function(){var e=y(this);e.prop("checked",e.val()===o.mode)}),this.repaint()},this.disable=function(e){y(":input",t).prop("disabled",e)}},rgb:function(o){var e,t=null,r={};e=function(){var e="";return o.options.rgb&&(e+='<div class="ui-colorpicker-rgb-r"><input class="ui-colorpicker-mode" type="radio" value="r"/><label>'+o._getRegional("rgbR")+'</label><input class="ui-colorpicker-number" type="number" min="0" max="255"/></div><div class="ui-colorpicker-rgb-g"><input class="ui-colorpicker-mode" type="radio" value="g"/><label>'+o._getRegional("rgbG")+'</label><input class="ui-colorpicker-number" type="number" min="0" max="255"/></div><div class="ui-colorpicker-rgb-b"><input class="ui-colorpicker-mode" type="radio" value="b"/><label>'+o._getRegional("rgbB")+'</label><input class="ui-colorpicker-number" type="number" min="0" max="255"/></div>'),'<div class="ui-colorpicker-rgb">'+e+"</div>"},this.init=function(){t=y(e()).appendTo(y(".ui-colorpicker-rgb-container",o.dialog)),y(".ui-colorpicker-mode",t).click(function(){o.mode=y(this).val(),o._updateAllParts()}),r.r=y(".ui-colorpicker-rgb-r .ui-colorpicker-number",t),r.g=y(".ui-colorpicker-rgb-g .ui-colorpicker-number",t),r.b=y(".ui-colorpicker-rgb-b .ui-colorpicker-number",t),y(".ui-colorpicker-number",t).on("change keyup",function(){y(".ui-colorpicker-rgb-r .ui-colorpicker-number",t).val();o.color.setRGB(r.r.val()/255,r.g.val()/255,r.b.val()/255),o._change()})},this.repaint=function(){var e=o.color.getRGB();r.r.val(Math.round(255*e.r)),r.g.val(Math.round(255*e.g)),r.b.val(Math.round(255*e.b))},this.update=function(){y(".ui-colorpicker-mode",t).each(function(){var e=y(this);e.prop("checked",e.val()===o.mode)}),this.repaint()},this.disable=function(e){y(":input",t).prop("disabled",e)}},lab:function(o){var t=null,r={};this.init=function(){var e;t=y((e="",o.options.hsv&&(e+='<div class="ui-colorpicker-lab-l"><label>'+o._getRegional("labL")+'</label><input class="ui-colorpicker-number" type="number" min="0" max="100"/></div><div class="ui-colorpicker-lab-a"><label>'+o._getRegional("labA")+'</label><input class="ui-colorpicker-number" type="number" min="-128" max="127"/></div><div class="ui-colorpicker-lab-b"><label>'+o._getRegional("labB")+'</label><input class="ui-colorpicker-number" type="number" min="-128" max="127"/></div>'),'<div class="ui-colorpicker-lab">'+e+"</div>")).appendTo(y(".ui-colorpicker-lab-container",o.dialog)),r.l=y(".ui-colorpicker-lab-l .ui-colorpicker-number",t),r.a=y(".ui-colorpicker-lab-a .ui-colorpicker-number",t),r.b=y(".ui-colorpicker-lab-b .ui-colorpicker-number",t),y(".ui-colorpicker-number",t).on("change keyup",function(e){o.color.setLAB(parseInt(r.l.val(),10)/100,(parseInt(r.a.val(),10)+128)/255,(parseInt(r.b.val(),10)+128)/255),o._change()})},this.repaint=function(){var e=o.color.getLAB();r.l.val(Math.round(100*e.l)),r.a.val(Math.round(255*e.a)-128),r.b.val(Math.round(255*e.b)-128)},this.update=this.repaint,this.disable=function(e){y(":input",t).prop("disabled",e)}},cmyk:function(o){var t=null,r={};this.init=function(){var e;t=y((e="",o.options.hsv&&(e+='<div class="ui-colorpicker-cmyk-c"><label>'+o._getRegional("cmykC")+'</label><input class="ui-colorpicker-number" type="number" min="0" max="100"/><span class="ui-colorpicker-unit">%</span></div><div class="ui-colorpicker-cmyk-m"><label>'+o._getRegional("cmykM")+'</label><input class="ui-colorpicker-number" type="number" min="0" max="100"/><span class="ui-colorpicker-unit">%</span></div><div class="ui-colorpicker-cmyk-y"><label>'+o._getRegional("cmykY")+'</label><input class="ui-colorpicker-number" type="number" min="0" max="100"/><span class="ui-colorpicker-unit">%</span></div><div class="ui-colorpicker-cmyk-k"><label>'+o._getRegional("cmykK")+'</label><input class="ui-colorpicker-number" type="number" min="0" max="100"/><span class="ui-colorpicker-unit">%</span></div>'),'<div class="ui-colorpicker-cmyk">'+e+"</div>")).appendTo(y(".ui-colorpicker-cmyk-container",o.dialog)),r.c=y(".ui-colorpicker-cmyk-c .ui-colorpicker-number",t),r.m=y(".ui-colorpicker-cmyk-m .ui-colorpicker-number",t),r.y=y(".ui-colorpicker-cmyk-y .ui-colorpicker-number",t),r.k=y(".ui-colorpicker-cmyk-k .ui-colorpicker-number",t),y(".ui-colorpicker-number",t).on("change keyup",function(e){o.color.setCMYK(parseInt(r.c.val(),10)/100,parseInt(r.m.val(),10)/100,parseInt(r.y.val(),10)/100,parseInt(r.k.val(),10)/100),o._change()})},this.repaint=function(){var e=o.color.getCMYK();r.c.val(Math.round(100*e.c)),r.m.val(Math.round(100*e.m)),r.y.val(Math.round(100*e.y)),r.k.val(Math.round(100*e.k))},this.update=this.repaint,this.disable=function(e){y(":input",t).prop("disabled",e)}},alpha:function(o){var t,r=null;this.init=function(){var e;r=y((e="",o.options.alpha&&(e+='<div class="ui-colorpicker-a"><input class="ui-colorpicker-mode" name="mode" type="radio" value="a"/><label>'+o._getRegional("alphaA")+'</label><input class="ui-colorpicker-number" type="number" min="0" max="100"/><span class="ui-colorpicker-unit">%</span></div>'),'<div class="ui-colorpicker-alpha">'+e+"</div>")).appendTo(y(".ui-colorpicker-alpha-container",o.dialog)),y(".ui-colorpicker-mode",r).click(function(){o.mode=y(this).val(),o._updateAllParts()}),t=y(".ui-colorpicker-a .ui-colorpicker-number",r),y(".ui-colorpicker-number",r).on("change keyup",function(){o.color.setAlpha(t.val()/100),o._change()})},this.update=function(){y(".ui-colorpicker-mode",r).each(function(){y(this).prop("checked",y(this).val()===o.mode)}),this.repaint()},this.repaint=function(){t.val(Math.round(100*o.color.getAlpha()))},this.disable=function(e){y(":input",r).prop("disabled",e)}},hex:function(r){var o=null,i={};this.init=function(){var e;o=y((e="",r.options.alpha&&(e+='<input class="ui-colorpicker-hex-alpha" type="text" maxlength="2" size="2"/>'),'<div class="ui-colorpicker-hex"><label>#</label>'+(e+='<input class="ui-colorpicker-hex-input" type="text" maxlength="6" size="6"/>')+"</div>")).appendTo(y(".ui-colorpicker-hex-container",r.dialog)),i.color=y(".ui-colorpicker-hex-input",o),i.alpha=y(".ui-colorpicker-hex-alpha",o),i.color.on("keydown keyup",function(e){return e.ctrlKey||e.metaKey||a(e.which)||!n(e.which)}),i.color.on("change",function(){/[^a-fA-F0-9]/.test(i.color.val())&&i.color.val(i.color.val().replace(/[^a-fA-F0-9]/g,""))}),i.color.on("change keyup",function(){var e,o,t;r.color=(e=i.color.val(),((t=/^#?([a-fA-F0-9]{1,3})$/.exec(e))?(o=parseInt(t[1],16),new y.colorpicker.Color((o>>8&15)/15,(o>>4&15)/15,(15&o)/15)):(t=/^#?([a-fA-F0-9]{1,6})$/.exec(e))?(o=parseInt(t[1],16),new y.colorpicker.Color((o>>16&255)/255,(o>>8&255)/255,(255&o)/255)):new y.colorpicker.Color).setAlpha(r.color.getAlpha())),r._change()}),i.alpha.on("keydown keyup",function(e){return e.ctrlKey||e.metaKey||a(e.which)||!n(e.which)}),i.alpha.on("change",function(){/[^a-fA-F0-9]/.test(i.alpha)&&i.alpha.val(i.alpha.val().replace(/[^a-fA-F0-9]/g,""))}),i.alpha.on("change keyup",function(){r.color.setAlpha(parseInt(i.alpha.val(),16)/255),r._change()})},this.repaint=function(){i.color.is(":focus")||i.color.val(r.color.toHex(!0)),i.alpha.is(":focus")||i.alpha.val(s(255*r.color.getAlpha()))},this.update=this.repaint,this.disable=function(e){y(":input",o).prop("disabled",e)}},swatches:function(e){function o(){e.color=e._parseColor(y(this).css("background-color"))||new y.colorpicker.Color,e._change()}var t=null;this.init=function(){var r;t=y((r="",e._eachSwatch(function(e,o){var t=new y.colorpicker.Color(o.r,o.g,o.b).toCSS();r+='<div class="ui-colorpicker-swatch" style="background-color:'+t+'" title="'+e+'"></div>'}),'<div class="ui-colorpicker-swatches ui-colorpicker-border" style="width:'+e.options.swatchesWidth+'px">'+r+"</div>")),y(".ui-colorpicker-swatches-container",e.dialog).html(t),y(".ui-colorpicker-swatch",t).on("click",o)},this.disable=function(e){y(".ui-colorpicker-swatch",t)[e?"off":"on"]("click",o)}},footer:function(o){var t=null,r="ui-colorpicker-special-transparent-"+o.colorpicker_index,i="ui-colorpicker-special-none-"+o.colorpicker_index;this.init=function(){var e;t=y((e="",(o.options.alpha||!o.inline&&o.options.showNoneButton)&&(e+='<div class="ui-colorpicker-buttonset">',o.options.alpha&&(e+='<input type="radio" name="ui-colorpicker-special" id="'+r+'" class="ui-colorpicker-special-transparent"/><label for="'+r+'">'+o._getRegional("transparent")+"</label>"),!o.inline&&o.options.showNoneButton&&(e+='<input type="radio" name="ui-colorpicker-special" id="'+i+'" class="ui-colorpicker-special-none"><label for="'+i+'">'+o._getRegional("none")+"</label>"),e+="</div>"),o.inline||(e+='<div class="ui-dialog-buttonset">',o.options.showCancelButton&&(e+='<button class="ui-colorpicker-cancel">'+o._getRegional("cancel")+"</button>"),e+='<button class="ui-colorpicker-ok">'+o._getRegional("ok")+"</button>",e+="</div>"),'<div class="ui-dialog-buttonpane ui-widget-content">'+e+"</div>")).appendTo(o.dialog),y(".ui-colorpicker-ok",t).button().click(function(){o.close()}),y(".ui-colorpicker-cancel",t).button().click(function(){o.close(!0)}),y(".ui-colorpicker-buttonset",t)[y.fn.controlgroup?"controlgroup":"buttonset"](),y(".ui-colorpicker-special-color",t).click(function(){o._change()}),y("#"+i,t).click(function(){o.color.set=!1,o._change()}),y("#"+r,t).click(function(){o.color.setAlpha(0),o._change()})},this.repaint=function(){y(".ui-colorpicker-special-none",t).prop("checked",!o.color.set).button("refresh"),y(".ui-colorpicker-special-transparent",t).prop("checked",o.color.set&&0===o.color.getAlpha()).button("refresh"),y(".ui-colorpicker-ok",t).button(o.changed?"enable":"disable")},this.update=function(){},this.disable=function(e){y(":input, :button",t).button(e?"disable":"enable"),e||y(".ui-colorpicker-ok",t).button(o.changed?"enable":"disable")}}},this.Color=function(){function m(e){return isNaN(e)||null===e?0:("string"==typeof e&&(e=parseInt(e,10)),Math.max(0,Math.min(e,1)))}function o(e){var o="0123456789abcdef",t=(e=Math.round(e))%16;return o.charAt((e-t)/16)+o.charAt(t)}function e(e){var o=.04045<e.r?Math.pow((e.r+.055)/1.055,2.4):e.r/12.92,t=.04045<e.g?Math.pow((e.g+.055)/1.055,2.4):e.g/12.92,r=.04045<e.b?Math.pow((e.b+.055)/1.055,2.4):e.b/12.92;return{x:.4124*o+.3576*t+.1805*r,y:.2126*o+.7152*t+.0722*r,z:.0193*o+.1192*t+.9505*r}}function t(e){var o,t,r,i=Math.min(e.r,e.g,e.b),n=Math.max(e.r,e.g,e.b),a=n-i,s={h:0,s:0,v:n};return 0==a?(s.h=0,s.s=0):(s.s=a/n,o=((n-e.r)/6+a/2)/a,t=((n-e.g)/6+a/2)/a,r=((n-e.b)/6+a/2)/a,e.r===n?s.h=r-t:e.g===n?s.h=1/3+o-r:e.b===n&&(s.h=2/3+t-o),s.h<0?s.h+=1:1<s.h&&--s.h),s}function r(e){var o,t,r,i=Math.min(e.r,e.g,e.b),n=Math.max(e.r,e.g,e.b),a=n-i,s={h:0,s:0,l:(n+i)/2};return 0==a?(s.h=0,s.s=0):(s.s=s.l<.5?a/(n+i):a/(2-n-i),o=((n-e.r)/6+a/2)/a,t=((n-e.g)/6+a/2)/a,r=((n-e.b)/6+a/2)/a,e.r===n?s.h=r-t:e.g===n?s.h=1/3+o-r:e.b===n&&(s.h=2/3+t-o),s.h<0?s.h+=1:1<s.h&&--s.h),s}function f(e){function o(e,o,t){return t<0&&(t+=1),1<t&&--t,6*t<1?e+6*(o-e)*t:2*t<1?o:3*t<2?e+(o-e)*(2/3-t)*6:e}var t,r;return 0===e.s?{r:e.l,g:e.l,b:e.l}:(r=e.l<.5?e.l*(1+e.s):e.l+e.s-e.s*e.l,{r:o(t=2*e.l-r,r,e.h+1/3),g:o(t,r,e.h),b:o(t,r,e.h-1/3)})}function i(e){var o=e.x/v[0],t=e.y/v[1],r=e.z/v[2];return o=.008856<o?Math.pow(o,1/3):7.787*o+16/116,{l:(116*(t=.008856<t?Math.pow(t,1/3):7.787*t+16/116)-16)/100,a:(500*(o-t)+128)/255,b:(200*(t-(r=.008856<r?Math.pow(r,1/3):7.787*r+16/116))+128)/255}}function n(e){return{c:1-e.r,m:1-e.g,y:1-e.b}}function a(e){var o=1;return e.c<o&&(o=e.c),e.m<o&&(o=e.m),e.y<o&&(o=e.y),1===o?{c:0,m:0,y:0,k:1}:{c:(e.c-o)/(1-o),m:(e.m-o)/(1-o),y:(e.y-o)/(1-o),k:o}}var k={rgb:{r:0,g:0,b:0},hsv:{h:0,s:0,v:0},hsl:{h:0,s:0,l:0},lab:{l:0,a:0,b:0},cmyk:{c:0,m:0,y:0,k:1}},s=1,v=[.9504285,1,1.0889],c=arguments;this.set=!1,this.setAlpha=function(e){return null!==e&&(s=m(e)),this.set=!0,this},this.getAlpha=function(){return s},this.setRGB=function(e,o,t){return k={rgb:this.getRGB()},null!==e&&(k.rgb.r=m(e)),null!==o&&(k.rgb.g=m(o)),null!==t&&(k.rgb.b=m(t)),this.set=!0,this},this.getChannel=function(e){switch(e){case"h":case"s":case"v":return this.getHSV()[e];case"r":case"g":case"b":return this.getRGB()[e];case"a":return this.getAlpha()}return null},this.setChannel=function(e,o){switch(e){case"h":return this.setHSV(o,null,null);case"s":return this.setHSV(null,o,null);case"v":return this.setHSV(null,null,o);case"r":return this.setRGB(o,null,null);case"g":return this.setRGB(null,o,null);case"b":return this.setRGB(null,null,o);case"a":return this.setAlpha(o)}return this},this.setHSV=function(e,o,t){return k={hsv:this.getHSV()},null!==e&&(k.hsv.h=m(e)),null!==o&&(k.hsv.s=m(o)),null!==t&&(k.hsv.v=m(t)),this.set=!0,this},this.setHSL=function(e,o,t){return k={hsl:this.getHSL()},null!==e&&(k.hsl.h=m(e)),null!==o&&(k.hsl.s=m(o)),null!==t&&(k.hsl.l=m(t)),this.set=!0,this},this.setLAB=function(e,o,t){return k={lab:this.getLAB()},null!==e&&(k.lab.l=m(e)),null!==o&&(k.lab.a=m(o)),null!==t&&(k.lab.b=m(t)),this.set=!0,this},this.setCMYK=function(e,o,t,r){return k={cmyk:this.getCMYK()},null!==e&&(k.cmyk.c=m(e)),null!==o&&(k.cmyk.m=m(o)),null!==t&&(k.cmyk.y=m(t)),null!==r&&(k.cmyk.k=m(r)),this.set=!0,this},this.getRGB=function(){var e,o,t,r,i,n,a,s,c,l,p,u,h,b,g,d;return k.rgb||(k.rgb=k.lab?(u=k.lab,h=100*u.l,b=255*u.a-128,g=255*u.b-128,(d={x:0,y:(h+16)/116,z:0}).x=b/500+d.y,d.z=d.y-g/200,d.x=.008856<Math.pow(d.x,3)?Math.pow(d.x,3):(d.x-16/116)/7.787,d.y=.008856<Math.pow(d.y,3)?Math.pow(d.y,3):(d.y-16/116)/7.787,d.z=.008856<Math.pow(d.z,3)?Math.pow(d.z,3):(d.z-16/116)/7.787,d.x*=v[0],d.y*=v[1],d.z*=v[2],(p={r:3.2406*(l=d).x+-1.5372*l.y+-.4986*l.z,g:-.9689*l.x+1.8758*l.y+.0415*l.z,b:.0557*l.x+-.204*l.y+1.057*l.z}).r=.0031308<p.r?1.055*Math.pow(p.r,1/2.4)-.055:12.92*p.r,p.g=.0031308<p.g?1.055*Math.pow(p.g,1/2.4)-.055:12.92*p.g,p.b=.0031308<p.b?1.055*Math.pow(p.b,1/2.4)-.055:12.92*p.b,p):k.hsv?(t=k.hsv,c={r:0,g:0,b:0},0===t.s?c.r=c.g=c.b=t.v:(r=1===t.h?0:6*t.h,i=Math.floor(r),n=t.v*(1-t.s),a=t.v*(1-t.s*(r-i)),s=t.v*(1-t.s*(1-(r-i))),0===i?(c.r=t.v,c.g=s,c.b=n):1===i?(c.r=a,c.g=t.v,c.b=n):2===i?(c.r=n,c.g=t.v,c.b=s):3===i?(c.r=n,c.g=a,c.b=t.v):4===i?(c.r=s,c.g=n,c.b=t.v):(c.r=t.v,c.g=n,c.b=a)),c):k.hsl?f(k.hsl):k.cmyk?(o=k.cmyk,{r:1-(e={c:o.c*(1-o.k)+o.k,m:o.m*(1-o.k)+o.k,y:o.y*(1-o.k)+o.k}).c,g:1-e.m,b:1-e.y}):{r:0,g:0,b:0},k.rgb.r=m(k.rgb.r),k.rgb.g=m(k.rgb.g),k.rgb.b=m(k.rgb.b)),y.extend({},k.rgb)},this.getHSV=function(){return k.hsv||(k.hsv=k.lab?t(this.getRGB()):k.rgb?t(k.rgb):k.hsl||k.cmyk?t(this.getRGB()):{h:0,s:0,v:0},k.hsv.h=m(k.hsv.h),k.hsv.s=m(k.hsv.s),k.hsv.v=m(k.hsv.v)),y.extend({},k.hsv)},this.getHSL=function(){return k.hsl||(k.hsl=k.rgb?r(k.rgb):k.hsv||k.cmyk||k.hsv?r(this.getRGB()):{h:0,s:0,l:0},k.hsl.h=m(k.hsl.h),k.hsl.s=m(k.hsl.s),k.hsl.l=m(k.hsl.l)),y.extend({},k.hsl)},this.getCMYK=function(){return k.cmyk||(k.cmyk=k.rgb?a(n(k.rgb)):k.hsv||k.hsl||k.lab?a(n(this.getRGB())):{c:0,m:0,y:0,k:1},k.cmyk.c=m(k.cmyk.c),k.cmyk.m=m(k.cmyk.m),k.cmyk.y=m(k.cmyk.y),k.cmyk.k=m(k.cmyk.k)),y.extend({},k.cmyk)},this.getLAB=function(){return k.lab||(k.lab=k.rgb?i(e(k.rgb)):k.hsv||k.hsl||k.cmyk?i(e(this.getRGB())):{l:0,a:0,b:0},k.lab.l=m(k.lab.l),k.lab.a=m(k.lab.a),k.lab.b=m(k.lab.b)),y.extend({},k.lab)},this.getChannels=function(){return{r:this.getRGB().r,g:this.getRGB().g,b:this.getRGB().b,a:this.getAlpha(),h:this.getHSV().h,s:this.getHSV().s,v:this.getHSV().v,c:this.getCMYK().c,m:this.getCMYK().m,y:this.getCMYK().y,k:this.getCMYK().k,L:this.getLAB().l,A:this.getLAB().a,B:this.getLAB().b}},this.getSpaces=function(){return y.extend(!0,{},k)},this.distance=function(e){var o,t="get"+"lab".toUpperCase(),r=this[t](),i=e[t](),n=0;for(o in r)n+=Math.pow(r[o]-i[o],2);return n},this.equals=function(e){if(e){var o=this.getRGB(),t=e.getRGB();return this.set===e.set&&this.getAlpha()===e.getAlpha()&&o.r===t.r&&o.g===t.g&&o.b===t.b}return!1},this.limit=function(e){--e;var o=this.getRGB();this.setRGB(Math.round(o.r*e)/e,Math.round(o.g*e)/e,Math.round(o.b*e)/e)},this.toHex=function(){var e=this.getRGB();return o(255*e.r)+o(255*e.g)+o(255*e.b)},this.toCSS=function(){return"#"+this.toHex()},this.copy=function(){var e=new y.colorpicker.Color(this.getSpaces(),this.getAlpha());return e.set=this.set,e},2===c.length&&(k=c[0],this.setAlpha(0===c[1]?0:c[1]||1),this.set=!0),2<c.length&&(this.setRGB(c[0],c[1],c[2]),this.setAlpha(0===c[3]?0:c[3]||1),this.set=!0)}},y.widget("vanderlee.colorpicker",{options:{alpha:!1,altAlpha:!0,altField:"",altOnChange:!0,altProperties:"background-color",autoOpen:!1,buttonClass:null,buttonColorize:!1,buttonImage:"images/ui-colorpicker.png",buttonImageOnly:!1,buttonText:null,closeOnEscape:!0,closeOnOutside:!0,color:"#00FF00",colorFormat:"HEX",disabled:!1,draggable:!0,containment:null,duration:"fast",hideOn:"button",hsv:!0,inline:!0,inlineFrame:!0,layout:{map:[0,0,1,5],bar:[1,0,1,5],preview:[2,0,1,1],hsv:[2,1,1,1],rgb:[2,2,1,1],alpha:[2,3,1,1],hex:[2,4,1,1],lab:[3,1,1,1],cmyk:[3,2,1,2],swatches:[4,0,1,5]},limit:"",modal:!1,mode:"h",okOnEnter:!1,parts:"",part:{map:{size:256},bar:{size:256}},position:null,regional:"",revert:!1,rgb:!0,showAnim:"fadeIn",showCancelButton:!0,showNoneButton:!1,showCloseButton:!0,showOn:"focus click alt",showOptions:{},swatches:null,swatchesWidth:84,title:null,cancel:null,close:null,init:null,ok:null,open:null,select:null,stop:null,ready:null},_create:function(){var e,o=this;return o.colorpicker_index=t++,o.widgetEventPrefix="colorpicker",o.opened=!1,o.generated=!1,o.inline=!1,o.changed=!1,o.dialog=null,o.button=null,o.image=null,o.overlay=null,o.events={window_resize:null,document_keydown:null,document_click_html:null},o.mode=o.options.mode,o.element.is("input")||!1===o.options.inline?(o._setColor(o.element.is("input")?o.element.val():o.options.color),o._callback("init"),/\bfocus|all|both\b/.test(o.options.showOn)&&o.element.on("focus",function(){o.open()}),/\bfocus|all|both\b/.test(o.options.hideOn)&&o.element.on("focusout",function(e){o.close()}),/\bclick|all|both\b/.test(o.options.showOn)&&o.element.on("click",function(e){o.opened&&/\bclick|all|both\b/.test(o.options.hideOn)?o.close():o.open()}),/\bbutton|all|both\b/.test(o.options.showOn)&&(""!==o.options.buttonImage&&(e=o.options.buttonText||o._getRegional("button"),o.image=y("<img/>").attr({src:o.options.buttonImage,alt:e,title:e}),o.options.buttonClass&&o.image.attr("class",o.options.buttonClass),o._setImageBackground()),o.options.buttonImageOnly&&o.image?o.button=o.image:(o.button=y('<button type="button"></button>').html(o.image||o.options.buttonText).button(),o.image=o.image?y("img",o.button).first():null),o.button.insertAfter(o.element).click(function(){o.options.disabled||(o.opened&&/\bbutton|all|both\b/.test(o.options.hideOn)?o.close():o.open())})),/\balt|all|both\b/.test(o.options.showOn)&&y(o.options.altField).on("click",function(){o.opened&&/\balt|all|both\b/.test(o.options.hideOn)?o.close():o.open()}),o.options.autoOpen&&o.open()):(o.inline=!0,o._generate(),o.opened=!0),(o.element.is(":disabled")||o.options.disabled)&&o.disable(),o._callback("ready"),this},_setOption:function(e,o){switch(e){case"disabled":this[o?"disable":"enable"]();break;case"swatches":this.options.swatches=o,this.parts.swatches.init()}y.Widget.prototype._setOption.apply(this,arguments)},enable:function(){this.element&&this.element.prop("disabled",!1),this.button&&this.button.prop("disabled",!1),this.dialog&&this.dialog.removeClass("ui-colorpicker-disabled"),this.options.disabled=!1,this.parts&&y.each(this.parts,function(e,o){o.disable&&o.disable(!1)})},disable:function(){this.element&&this.element.prop("disabled",!0),this.button&&this.button.prop("disabled",!0),this.dialog&&this.dialog.addClass("ui-colorpicker-disabled"),this.options.disabled=!0,this.parts&&y.each(this.parts,function(e,o){o.disable&&o.disable(!0)})},_setImageBackground:function(){this.image&&this.options.buttonColorize&&this.image.css("background-color",this.color.set?this._formatColor("RGBA",this.color):"")},_setAltField:function(){if(this.options.altOnChange&&this.options.altField&&this.options.altProperties){var e,o,t=this.options.altProperties.split(",");for(e=0;e<=t.length;++e)switch(o=y.trim(t[e])){case"color":case"fill":case"stroke":case"background-color":case"backgroundColor":case"outline-color":case"border-color":y(this.options.altField).css(o,this.color.set?this.color.toCSS():"")}this.options.altAlpha&&y(this.options.altField).css("opacity",this.color.set?this.color.getAlpha():"")}},_setColor:function(e){this.color=this._parseColor(e)||new y.colorpicker.Color,this.currentColor=this.color.copy(),this._setImageBackground(),this._setAltField()},setColor:function(e){this._setColor(e),this._change()},getColor:function(e){return this._formatColor(e||this.options.colorFormat,this.color)},_generateInline:function(){y(this.element).html(this.options.inlineFrame?'<div class="ui-colorpicker ui-colorpicker-inline ui-dialog ui-widget ui-widget-content ui-corner-all"></div>':'<div class="ui-colorpicker ui-colorpicker-inline"></div>'),this.dialog=y(".ui-colorpicker",this.element)},_generatePopup:function(){var r=this;r.dialog=y('<div class="ui-colorpicker ui-colorpicker-dialog ui-dialog ui-widget ui-widget-content ui-corner-all" style="display: none;"></div>').appendTo("body"),null===r.events.document_click_html&&y(document).on("touchstart click","html",r.events.document_click_html=function(e){if(r.opened&&e.target!==r.element[0]&&!r.overlay)if(r.dialog.is(e.target)||0<r.dialog.has(e.target).length)r.element.blur();else{var o,t=y(e.target).parents();for(t.push(e.target),o=0;o<=t.length;++o){if(null!==r.button&&t[o]===r.button[0])return;if(/\balt|all|both\b/.test(r.options.showOn)&&y(r.options.altField).is(t[o]))return}r.options.closeOnOutside&&r.close(r.options.revert)}}),null===r.events.document_keydown&&y(document).on("keydown",r.events.document_keydown=function(e){r.opened&&27===e.keyCode&&r.options.closeOnEscape&&r.close(r.options.revert),r.opened&&13===e.keyCode&&r.options.okOnEnter&&r.close()}),r.element.keydown(function(e){9===e.keyCode&&r.close()}).keyup(function(e){var o=r._parseColor(r.element.val());o&&!r.color.equals(o)&&(r.color=o,r._change())})},_generate:function(){var e,t,o,r,i=this;i._setColor(i.inline||!i.element.is("input")?i.options.color:i.element.val()),i[i.inline?"_generateInline":"_generatePopup"](),e="string"==typeof i.options.parts?y.colorpicker.partslists[i.options.parts]?y.colorpicker.partslists[i.options.parts]:y.colorpicker.partslists[i.inline?"inline":"popup"]:i.options.parts,i.parts={},y.each(e,function(e,o){y.colorpicker.parts[o]&&(i.parts[o]=new y.colorpicker.parts[o](i))}),i.generated||(t=[],y.each(i.options.layout,function(e,o){i.parts[e]&&t.push({part:e,pos:o})}),o=y(function(e,o){var t,r,i,n,a,s,c,l,p,u,h,b,g,d;for(e.sort(function(e,o){return e.pos[1]===o.pos[1]?e.pos[0]-o.pos[0]:e.pos[1]-o.pos[1]}),a=n=0,y.each(e,function(e,o){n=Math.max(n,o.pos[0]+o.pos[2]),a=Math.max(a,o.pos[1]+o.pos[3])}),t=[],r=0;r<n;++r)t.push([]);for(c=[],s=[],y.each(e,function(e,o){for(r=0;r<o.pos[2];r+=1)s[o.pos[0]+r]=!0;for(i=0;i<o.pos[3];i+=1)c[o.pos[1]+i]=!0}),u="",p=e[l=0],i=0;i<a;++i){for(u+="<tr>",r=0;r<n;)if(void 0!==p&&r===p.pos[0]&&i===p.pos[1]){for(u+=o(p,r,i),b=0;b<p.pos[3];b+=1)for(h=0;h<p.pos[2];h+=1)t[r+h][i+b]=!0;r+=p.pos[2],p=e[++l]}else{for(g=0,d=!1;r<n&&void 0===t[r][i]&&(void 0===p||i<p.pos[1]||i===p.pos[1]&&r<p.pos[0]);)!0===s[r]&&(g+=1),d=!0,r+=1;0<g?u+='<td colspan="'+g+'"></td>':d||(r+=1)}u+="</tr>"}return'<table cellspacing="0" cellpadding="0" border="0"><tbody>'+u+"</tbody></table>"}(t,function(e,o,t){return r=["ui-colorpicker-"+e.part+"-container"],0<o&&r.push("ui-colorpicker-padding-left"),0<t&&r.push("ui-colorpicker-padding-top"),'<td  class="'+r.join(" ")+'"'+(1<e.pos[2]?' colspan="'+e.pos[2]+'"':"")+(1<e.pos[3]?' rowspan="'+e.pos[3]+'"':"")+' valign="top"></td>'})).appendTo(i.dialog),i.options.inlineFrame&&o.addClass("ui-dialog-content ui-widget-content"),i._initAllParts(),i._updateAllParts(),i.generated=!0)},_effectGeneric:function(e,o,t,r,i){var n=this;y.effects&&y.effects[n.options.showAnim]?e[o](n.options.showAnim,n.options.showOptions,n.options.duration,i):(e["slideDown"===n.options.showAnim?t:"fadeIn"===n.options.showAnim?r:o](n.options.showAnim?n.options.duration:null,i),!y.isFunction(i)||n.options.showAnim&&n.options.duration||i())},_effectShow:function(e,o){this._effectGeneric(e,"show","slideDown","fadeIn",o)},_effectHide:function(e,o){this._effectGeneric(e,"hide","slideUp","fadeOut",o)},open:function(){var o,e,t,r=this;r.opened||(r._generate(),e=r.element.is(":hidden")?y("<div/>").insertBefore(r.element):r.element,r.element.is(":hidden")&&e.remove(),o=0,y(r.element[0]).parents().each(function(){var e=y(this).css("z-index");if("number"!=typeof e&&"string"!=typeof e||""===e||isNaN(e))y(this).siblings().each(function(){var e=y(this).css("z-index");"number"!=typeof e&&"string"!=typeof e||""===e||isNaN(e)||o<e&&(o=parseInt(e,10))});else if(o<e)return o=parseInt(e,10),!1}),o+=2,r.dialog.css("z-index",o),r.options.modal&&(r.overlay=y('<div class="ui-widget-overlay"></div>').appendTo("body").css("z-index",o-1),null!==r.events.window_resize&&y(window).off("resize",r.events.window_resize),r.events.window_resize=function(){r.overlay&&(r.overlay.width(y(document).width()),r.overlay.height(y(document).height()))},y(window).on("resize",r.events.window_resize),r.events.window_resize()),r._effectShow(this.dialog),r.options.position?"element"===(t=y.extend({},r.options.position)).of&&(t.of=e):t={my:"left top",at:"left bottom",of:e,collision:"flip"},r.dialog.position(t),r.opened=!0,r._callback("open"),y(function(){r._repaintAllParts()}))},close:function(e){var o=this;o.opened&&(e?(o.color=o.currentColor.copy(),o._change(),o._callback("cancel")):(o.currentColor=o.color.copy(),o._callback("ok")),o.changed=!1,o.overlay&&(y(window).off("resize",o.events.window_resize),o.overlay.remove()),o._effectHide(o.dialog,function(){o.dialog.remove(),o.dialog=null,o.generated=!1,o.opened=!1,o._callback("close")}))},destroy:function(){var e=this;null!==e.events.document_click_html&&y(document).off("touchstart click","html",e.events.document_click_html),null!==e.events.document_keydown&&y(document).off("keydown",e.events.document_keydown),null!==e.events.window_resize&&y(window).off("resize",e.events.window_resize),this.element.off(),this.overlay&&this.overlay.remove(),null!==this.dialog&&this.dialog.remove(),null!==this.image&&this.image.remove(),null!==this.button&&this.button.remove()},_callback:function(e){var o,t,r=this;return r.color.set?((o={formatted:r._formatColor(r.options.colorFormat,r.color),colorPicker:r}).hex=r.color.toHex(),o.css=r.color.toCSS(),o.a=r.color.getAlpha(),o.rgb=r.color.getRGB(),o.hsv=r.color.getHSV(),o.cmyk=r.color.getCMYK(),o.hsl=r.color.getHSL(),(t=r.color.getLAB()).a=2*t.a-1,t.b=2*t.b-1,o.lab=t,r._trigger(e,null,o)):r._trigger(e,null,{formatted:"",colorPicker:r})},_initAllParts:function(){y.each(this.parts,function(e,o){o.init&&o.init()})},_updateAllParts:function(){y.each(this.parts,function(e,o){o.update&&o.update()})},_repaintAllParts:function(){y.each(this.parts,function(e,o){o.repaint&&o.repaint()})},_change:function(e){this.color.set&&this.options.limit&&y.colorpicker.limits[this.options.limit]&&y.colorpicker.limits[this.options.limit](this.color,this),this.changed=!this.color.equals(this.currentColor),this.inline||(this.color.set?this.color.equals(this._parseColor(this.element.val()))||this.element.val(this._formatColor(this.options.colorFormat,this.color)).change():""!==this.element.val()&&this.element.val("").change(),this._setImageBackground()),this._setAltField(),this.options.color=this.color.set?this.color.toCSS():"",this.opened&&this._repaintAllParts(),this._callback("select"),void 0!==e&&!e||this._callback("stop")},_hoverable:function(e){e.hover(function(){e.addClass("ui-state-hover")},function(){e.removeClass("ui-state-hover")})},_focusable:function(e){e.focus(function(){e.addClass("ui-state-focus")}).blur(function(){e.removeClass("ui-state-focus")})},_getRegional:function(e){return void 0!==y.colorpicker.regional[this.options.regional][e]?y.colorpicker.regional[this.options.regional][e]:y.colorpicker.regional[""][e]},_getSwatches:function(){return"string"==typeof this.options.swatches?y.colorpicker.swatches[this.options.swatches]:y.isPlainObject(this.options.swatches)?this.options.swatches:y.colorpicker.swatches.html},_eachSwatch:function(t){var r,i=this._getSwatches();y.each(i,function(e,o){return r=y.isArray(i)?o.name:e,t(r,o)})},_getSwatch:function(t){var r=!1;return this._eachSwatch(function(e,o){if(e.toLowerCase()==t.toLowerCase())return r=o,!1}),r},_parseFormat:function(e,o){var t,r,i={x:function(){return"([0-9a-fA-F]{2})"},d:function(){return"([12]?[0-9]{1,2})"},f:function(){return"([0-9]*\\.?[0-9]*)"},p:function(){return"([0-9]*\\.?[0-9]*)"}},n={x:function(e){return parseInt(e,16)/255},d:function(e){return e/255},f:function(e){return e},p:function(e){return.01*e}},a={r:"setRGB",g:"setRGB",b:"setRGB",h:"setHSV",s:"setHSV",v:"setHSV",c:"setCMYK",m:"setCMYK",y:"setCMYK",k:"setCMYK",L:"setLAB",A:"setLAB",B:"setLAB"},s=[],c=[],l=null;if(r=(r=e.replace(/[()\\^$.|?*+[\]]/g,function(e){return"\\"+e})).replace(/\\?[argbhsvcmykLAB][xdfp]/g,function(e){if(e.match(/^\\/))return e.slice(1);var o=e.charAt(0),t=e.charAt(1);return s.push(o),c.push(n[t]),a[o]&&(l=a[o]),i[t]()}),l){var p=o.match(new RegExp(r));if(p){var u,h=[];p.shift(),y.each({setRGB:["r","g","b"],setHSV:["h","s","v"],setCMYK:["c","m","y","k"],setLAB:["L","A","B"]}[l],function(e,o){u=y.inArray(o,s),h[e]=c[u](p[u])}),(t=new y.colorpicker.Color)[l].apply(t,h)}}return t},_parseColor:function(t){var r,i=this,e=y.isArray(i.options.colorFormat)?i.options.colorFormat:[i.options.colorFormat];return y.each(e,function(e,o){if(r=y.colorpicker.parsers[o]?y.colorpicker.parsers[o](t,i):i._parseFormat(o,t))return!1}),r||y.each(y.colorpicker.parsers,function(e,o){if(r=o(t,i))return!1}),r||!1},_exactName:function(t){var r=!1;return this._eachSwatch(function(e,o){if(t.equals(new y.colorpicker.Color(o.r,o.g,o.b)))return r=e,!1}),r},_closestName:function(t){t.getRGB();var r,i=null,n=!1;return this._eachSwatch(function(e,o){if((r=t.distance(new y.colorpicker.Color(o.r,o.g,o.b)))<i||null===i){if(n=e,r<=1e-20)return!1;i=r}}),n},_formatColor:function(e,t){var r=this,i=null,n={x:function(e){return s(255*e)},d:function(e){return Math.round(255*e)},f:function(e){return e},p:function(e){return 100*e}},a=t.getChannels();return y.isArray(e)||(e=[e]),y.each(e,function(e,o){return y.colorpicker.writers[o]?!1===(i=y.colorpicker.writers[o](t,r)):(i=o.replace(/\\?[argbhsvcmykLAB][xdfp]/g,function(e){return e.match(/^\\/)?e.slice(1):n[e.charAt(1)](a[e.charAt(0)])}),!1)}),i}}),y.vanderlee.colorpicker});