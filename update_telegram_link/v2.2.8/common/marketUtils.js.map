{"version":3,"sources":["../../../../src/common/marketUtils.es6"],"names":["sortMarkets","market_order","forex","indices","commodities","volidx","markets","sort","a","b","name","sortSubmarkets","map","market","submarkets","submarkets_sort","display_name","getSortedMarkets","active_symbols","unsorted_markets","reduce","market_result","market_display_name","includes","push","sorted_markets_order","Object","keys","market_id","toString","getSortedSubmarkets","getObjectMarketSubmarkets","submarket_display_name","getSortedMarketSubmarkets","markets_submarkets","sorted_market_child"],"mappings":";;;;;;;;;;;;;;;;;AAAA,QAAMA,cAAe,YAAM;AACvB,YAAMC,eAAe;AACjBC,mBAAO,CADU;AAEjBC,qBAAS,CAFQ;AAGjBC,yBAAa,CAHI;AAIjBC,oBAAQ;AAJS,SAArB;;AAOA,eAAO,SAASL,WAAT,CAAqBM,OAArB,EAA8B;AACjC,mBAAOA,QAAQC,IAAR,CAAa,UAACC,CAAD,EAAIC,CAAJ;AAAA,uBAAUR,aAAa,QAAOO,CAAP,yCAAOA,CAAP,OAAa,QAAb,GAAwBA,EAAEE,IAA1B,GAAiCF,CAA9C,IAAmDP,aAAa,QAAOQ,CAAP,yCAAOA,CAAP,OAAa,QAAb,GAAwBA,EAAEC,IAA1B,GAAiCD,CAA9C,CAA7D;AAAA,aAAb,CAAP;AACH,SAFD;AAGH,KAXmB,EAApB;;AAaA,QAAME,iBAAiB,SAAjBA,cAAiB,OAAkB;AAAA;AAAA,YAAbL,OAAa;;AACrC,eAAOA,QAAQM,GAAR,CAAY,UAACC,MAAD,EAAY;AAC3B,gBAAIA,OAAOC,UAAX,EAAuB;AACnB,oBAAMC,kBAAkBF,OAAOC,UAAP,CAAkBP,IAAlB,CAAuB,UAACC,CAAD,EAAIC,CAAJ,EAAU;AACrD,wBAAID,EAAEQ,YAAF,GAAiBP,EAAEO,YAAvB,EAAqC,OAAO,CAAC,CAAR;AACrC,wBAAIR,EAAEQ,YAAF,GAAiBP,EAAEO,YAAvB,EAAqC,OAAO,CAAP;AACxC,iBAHuB,CAAxB;AAIAH,uBAAOC,UAAP,GAAoBC,eAApB;AACH;AACD,mBAAOF,MAAP;AACH,SATM,CAAP;AAUH,KAXD;;AAaA,QAAMI,mBAAmB,SAAnBA,gBAAmB,CAACC,cAAD,EAAoB;AACzC,YAAMC,mBAAmBD,eAAeE,MAAf,CAAsB,UAACC,aAAD,EAAgBf,OAAhB,EAA4B;AAAA,gBAC/DO,MAD+D,GAC/BP,OAD+B,CAC/DO,MAD+D;AAAA,gBACvDS,mBADuD,GAC/BhB,OAD+B,CACvDgB,mBADuD;;;AAGvED,0BAAcR,MAAd,IAAwBQ,cAAcR,MAAd,KAAyB,EAAjD;AACA,gBAAIQ,cAAcR,MAAd,EAAsBU,QAAtB,CAA+BD,mBAA/B,MAAwD,KAA5D,EAAmED,cAAcR,MAAd,EAAsBW,IAAtB,CAA2BF,mBAA3B;;AAEnE,mBAAOD,aAAP;AACH,SAPwB,EAOtB,EAPsB,CAAzB;;AASA,YAAMI,uBAAuBzB,YAAY0B,OAAOC,IAAP,CAAYR,gBAAZ,CAAZ,CAA7B;;AAEA,eAAOM,qBAAqBb,GAArB,CAAyB;AAAA,mBAAaO,iBAAiBS,SAAjB,EAA4BC,QAA5B,EAAb;AAAA,SAAzB,CAAP;AACH,KAbD;;AAeA,aAASC,mBAAT,QAA8C;AAAA;AAAA,YAAbhB,UAAa;;AAC1C,eAAOA,WAAWP,IAAX,CAAgB,UAACC,CAAD,EAAIC,CAAJ,EAAU;AAC7B,gBAAID,IAAIC,CAAR,EAAW,OAAO,CAAC,CAAR;AACX,gBAAID,IAAIC,CAAR,EAAW,OAAO,CAAP;AACd,SAHM,CAAP;AAIH;;AAED,QAAMsB,4BAA4B,SAA5BA,yBAA4B,CAACb,cAAD,EAAoB;AAClD,eAAOA,eAAeE,MAAf,CAAsB,UAACC,aAAD,EAAgBf,OAAhB,EAA4B;AAAA,gBAC7CgB,mBAD6C,GACiBhB,OADjB,CAC7CgB,mBAD6C;AAAA,gBACxBU,sBADwB,GACiB1B,OADjB,CACxB0B,sBADwB;AAAA,gBACAhB,YADA,GACiBV,OADjB,CACAU,YADA;;;AAGrDK,0BAAcC,mBAAd,IAAqCD,cAAcC,mBAAd,KAAsC,EAA3E;AACAD,0BAAcC,mBAAd,EAAmCU,sBAAnC,IAA6DX,cAAcC,mBAAd,EAAmCU,sBAAnC,KAA8D,EAA3H;AACAX,0BAAcC,mBAAd,EAAmCU,sBAAnC,EAA2DR,IAA3D,CAAgER,YAAhE;;AAEA,mBAAOK,aAAP;AACH,SARM,EAQJ,EARI,CAAP;AASH,KAVD;;AAYA,QAAMY,4BAA4B,SAA5BA,yBAA4B,CAACC,kBAAD,EAAwB;AACtD,YAAMT,uBAAuBzB,YAAYkC,kBAAZ,CAA7B;AACA,YAAMC,sBAAsBxB,eAAec,oBAAf,CAA5B;;AAEA,eAAOU,mBAAP;AACH,KALD;;YAQIJ,yB,GAAAA,yB;YACAd,gB,GAAAA,gB;YACAgB,yB,GAAAA,yB;YACAH,mB,GAAAA,mB","file":"marketUtils.js","sourcesContent":["const sortMarkets = (() => {\n    const market_order = {\n        forex: 1,\n        indices: 2,\n        commodities: 3,\n        volidx: 4,\n    };\n\n    return function sortMarkets(markets) {\n        return markets.sort((a, b) => market_order[typeof a === 'object' ? a.name : a] - market_order[typeof b === 'object' ? b.name : b]);\n    };\n})();\n\nconst sortSubmarkets = ([...markets]) => {\n    return markets.map((market) => {\n        if (market.submarkets) {\n            const submarkets_sort = market.submarkets.sort((a, b) => {\n                if (a.display_name < b.display_name) return -1;\n                if (a.display_name > b.display_name) return 1;\n            });\n            market.submarkets = submarkets_sort;\n        }\n        return market\n    })\n}\n\nconst getSortedMarkets = (active_symbols) => {\n    const unsorted_markets = active_symbols.reduce((market_result, markets) => {\n        const { market, market_display_name } = markets;\n\n        market_result[market] = market_result[market] || [];\n        if (market_result[market].includes(market_display_name) === false) market_result[market].push(market_display_name);\n\n        return market_result;\n    }, {});\n\n    const sorted_markets_order = sortMarkets(Object.keys(unsorted_markets));\n\n    return sorted_markets_order.map(market_id => unsorted_markets[market_id].toString());\n};\n\nfunction getSortedSubmarkets([...submarkets]) {\n    return submarkets.sort((a, b) => {\n        if (a < b) return -1;\n        if (a > b) return 1;\n    })\n}\n\nconst getObjectMarketSubmarkets = (active_symbols) => {\n    return active_symbols.reduce((market_result, markets) => {\n        const { market_display_name, submarket_display_name, display_name } = markets;\n\n        market_result[market_display_name] = market_result[market_display_name] || {};\n        market_result[market_display_name][submarket_display_name] = market_result[market_display_name][submarket_display_name] || [];\n        market_result[market_display_name][submarket_display_name].push(display_name);\n\n        return market_result;\n    }, {});\n};\n\nconst getSortedMarketSubmarkets = (markets_submarkets) => {\n    const sorted_markets_order = sortMarkets(markets_submarkets);\n    const sorted_market_child = sortSubmarkets(sorted_markets_order);\n\n    return sorted_market_child\n}\n\nexport {\n    getObjectMarketSubmarkets,\n    getSortedMarkets,\n    getSortedMarketSubmarkets,\n    getSortedSubmarkets,\n};"]}